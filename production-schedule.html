<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M. Chat & Pâtisserie Fruits 팝업 납품</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            @page {
                size: A4 landscape;
                margin: 10mm;
            }
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="p-4 bg-white min-h-screen print:p-2">
        <div class="max-w-none mx-auto print:max-w-none">
            <div class="mb-4 print:mb-3">
                <h1 class="text-2xl font-bold text-gray-900 mb-1 print:text-xl">
                    <strong>M. Chat</strong> & <strong>Pâtisserie Fruits</strong> <em>팝업 납품</em>
                </h1>
                <p class="text-gray-600 text-sm print:text-xs">2025년 8월 물량 소진 및 입고 현황</p>
            </div>

            <!-- 요약 정보 -->
            <div class="grid grid-cols-1 gap-3 mb-4 print:mb-3 print:hidden">
                <div class="bg-white p-3 rounded-lg shadow border-l-4 border-green-500">
                    <div class="flex items-center gap-2">
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="text-xs font-medium">입고 예정</span>
                    </div>
                    <p class="text-lg font-bold text-green-600">9회</p>
                </div>
            </div>

            <!-- 엑셀 형태 테이블 -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden print:shadow-none print:border">
                <div class="overflow-x-auto">
                    <table class="w-full text-xs print:text-[10px]">
                        <thead>
                            <tr class="bg-gray-800 text-white print:bg-gray-700">
                                <th class="px-2 py-2 text-center font-bold print:px-1 print:py-1" rowspan="2">날짜</th>
                                <th class="px-2 py-2 text-center font-bold print:px-1 print:py-1" rowspan="2">요일</th>
                                <th class="px-2 py-2 text-center font-bold bg-orange-700 print:bg-orange-600" colspan="3">판매 소진 수량</th>
                                <th class="px-2 py-2 text-center font-bold bg-red-700 print:bg-red-600" colspan="2">전여 재고</th>
                                <th class="px-2 py-2 text-center font-bold print:px-1 print:py-1" rowspan="2">입고</th>
                                <th class="px-2 py-2 text-center font-bold bg-green-700 print:bg-green-600" colspan="4">입고 수량</th>
                                <th class="px-6 py-2 text-center font-bold bg-purple-700 w-32 print:w-24 print:px-3 print:bg-purple-600" rowspan="2">생산<br/>계획</th>
                            </tr>
                            <tr class="bg-gray-700 text-white text-xs print:bg-gray-600 print:text-[9px]">
                                <th class="px-2 py-1 text-center bg-orange-600 print:px-1">토스트</th>
                                <th class="px-2 py-1 text-center bg-orange-600 print:px-1">복숭아</th>
                                <th class="px-2 py-1 text-center bg-orange-600 print:px-1">브륄레</th>
                                <th class="px-2 py-1 text-center bg-red-600 print:px-1">토스트</th>
                                <th class="px-2 py-1 text-center bg-red-600 print:px-1">복숭아</th>
                                <th class="px-2 py-1 text-center bg-green-600 print:px-1">토스트</th>
                                <th class="px-2 py-1 text-center bg-green-600 print:px-1">복숭아</th>
                                <th class="px-2 py-1 text-center bg-green-600 print:px-1">휠버터</th>
                                <th class="px-2 py-1 text-center bg-green-600 print:px-1">브륄레</th>
                            </tr>
                        </thead>
                        <tbody id="dataBody">
                            <!-- 데이터가 여기에 동적으로 삽입됩니다 -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 범례 -->
            <div class="mt-4 bg-white rounded-lg shadow p-3 print:shadow-none print:border print:mt-2">
                <h3 class="text-sm font-bold text-gray-800 mb-2 print:text-xs">재고 상태 범례</h3>
                <div class="grid grid-cols-2 gap-2 print:grid-cols-4 print:gap-1">
                    <div class="flex items-center gap-1 text-xs print:text-[9px]">
                        <div class="w-3 h-3 bg-green-100 border border-green-300 rounded print:w-2 print:h-2"></div>
                        <span>충분 (300+)</span>
                    </div>
                    <div class="flex items-center gap-1 text-xs print:text-[9px]">
                        <div class="w-3 h-3 bg-yellow-100 border border-yellow-300 rounded print:w-2 print:h-2"></div>
                        <span>보통 (100-299)</span>
                    </div>
                    <div class="flex items-center gap-1 text-xs print:text-[9px]">
                        <div class="w-3 h-3 bg-orange-100 border border-orange-300 rounded print:w-2 print:h-2"></div>
                        <span>부족 (0-99)</span>
                    </div>
                    <div class="flex items-center gap-1 text-xs print:text-[9px]">
                        <div class="w-3 h-3 bg-red-100 border border-red-300 rounded print:w-2 print:h-2"></div>
                        <span class="font-bold">긴급 (음수)</span>
                    </div>
                </div>
                <div class="mt-2 text-xs text-gray-600 print:text-[9px] print:mt-1">
                    <span class="font-medium">파란색 배경:</span> 주말 (토/일) | 
                    <span class="font-medium ml-3">초록색 배경:</span> 입고 예정일
                </div>
            </div>
        </div>
    </div>

    <script>
        const data = [
            { date: '2025-08-06', day: '수', consumption: [40, 40, 30], carryover: [460, 460], receipt: [320, 320, 320, 230], completed: true },
            { date: '2025-08-07', day: '목', consumption: [40, 40, 30], carryover: [420, 420], receipt: null, completed: false },
            { date: '2025-08-08', day: '금', consumption: [40, 40, 30], carryover: [380, 380], receipt: null, completed: false },
            { date: '2025-08-09', day: '토', consumption: [100, 100, 70], carryover: [280, 280], receipt: null, completed: false },
            { date: '2025-08-10', day: '일', consumption: [100, 100, 70], carryover: [180, 180], receipt: null, completed: false },
            { date: '2025-08-11', day: '월', consumption: [40, 40, 30], carryover: [140, 140], receipt: [80, 80, 80, 60], completed: true },
            { date: '2025-08-12', day: '화', consumption: [40, 40, 30], carryover: [100, 100], receipt: null, completed: false },
            { date: '2025-08-13', day: '수', consumption: [40, 40, 30], carryover: [60, 60], receipt: [120, 120, 120, 90], completed: true },
            { date: '2025-08-14', day: '목', consumption: [40, 40, 30], carryover: [20, 20], receipt: null, completed: false },
            { date: '2025-08-15', day: '금', consumption: [40, 40, 30], carryover: [-20, -20], receipt: null, completed: false },
            { date: '2025-08-16', day: '토', consumption: [100, 100, 70], carryover: [-120, -120], receipt: [200, 200, 200, 140], completed: true },
            { date: '2025-08-17', day: '일', consumption: [100, 100, 70], carryover: [-220, -220], receipt: null, completed: false },
            { date: '2025-08-18', day: '월', consumption: [40, 40, 30], carryover: [-260, -260], receipt: [80, 80, 80, 60], completed: true },
            { date: '2025-08-19', day: '화', consumption: [40, 40, 30], carryover: [-300, -300], receipt: null, completed: false },
            { date: '2025-08-20', day: '수', consumption: [40, 40, 30], carryover: [-340, -340], receipt: [120, 120, 120, 90], completed: true },
            { date: '2025-08-21', day: '목', consumption: [40, 40, 30], carryover: [-380, -380], receipt: null, completed: false },
            { date: '2025-08-22', day: '금', consumption: [40, 40, 30], carryover: [-420, -420], receipt: null, completed: false },
            { date: '2025-08-23', day: '토', consumption: [100, 100, 70], carryover: [-520, -520], receipt: [200, 200, 200, 140], completed: true },
            { date: '2025-08-24', day: '일', consumption: [100, 100, 70], carryover: [-620, -620], receipt: null, completed: false },
            { date: '2025-08-25', day: '월', consumption: [40, 40, 30], carryover: [-660, -660], receipt: [80, 80, 80, 60], completed: true },
            { date: '2025-08-26', day: '화', consumption: [40, 40, 30], carryover: [-700, -700], receipt: null, completed: false },
            { date: '2025-08-27', day: '수', consumption: [40, 40, 30], carryover: [-740, -740], receipt: [320, 320, 320, 230], completed: true },
            { date: '2025-08-28', day: '목', consumption: [40, 40, 30], carryover: [-780, -780], receipt: null, completed: false },
            { date: '2025-08-29', day: '금', consumption: [40, 40, 30], carryover: [-820, -820], receipt: null, completed: false },
            { date: '2025-08-30', day: '토', consumption: [100, 100, 70], carryover: [-920, -920], receipt: null, completed: false },
            { date: '2025-08-31', day: '일', consumption: [100, 100, 70], carryover: [-1020, -1020], receipt: null, completed: false }
        ];

        function getCellClass(value, type) {
            if (type === 'carryover') {
                if (value >= 300) return 'bg-green-100 text-green-800 font-semibold';
                if (value >= 100) return 'bg-yellow-100 text-yellow-800 font-semibold';
                if (value >= 0) return 'bg-orange-100 text-orange-800 font-semibold';
                return 'bg-red-100 text-red-800 font-bold';
            }
            return '';
        }

        function renderTable() {
            const tbody = document.getElementById('dataBody');
            tbody.innerHTML = '';

            data.forEach((row) => {
                const tr = document.createElement('tr');
                const isWeekend = row.day === '토' || row.day === '일';
                tr.className = `border-b hover:bg-gray-50 print:hover:bg-white ${isWeekend ? 'bg-blue-50' : ''}`;

                // 날짜
                tr.innerHTML += `<td class="px-2 py-2 text-center font-medium print:px-1 print:py-1 print:text-[9px] ${isWeekend ? 'bg-blue-100' : ''}">${row.date}</td>`;
                
                // 요일
                tr.innerHTML += `<td class="px-2 py-2 text-center font-medium print:px-1 print:py-1 ${isWeekend ? 'bg-blue-100 text-blue-800' : ''}">${row.day}</td>`;
                
                // 소진 수량
                row.consumption.forEach(val => {
                    tr.innerHTML += `<td class="px-2 py-2 text-center bg-orange-50 print:px-1 print:py-1">${val}</td>`;
                });
                
                // 전여 재고
                row.carryover.forEach(val => {
                    tr.innerHTML += `<td class="px-2 py-2 text-center print:px-1 print:py-1 ${getCellClass(val, 'carryover')}">${val}</td>`;
                });
                
                // 입고 여부
                tr.innerHTML += `<td class="px-2 py-2 text-center print:px-1 print:py-1">
                    ${row.completed ? '<svg class="w-4 h-4 text-green-600 mx-auto print:w-3 print:h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>' : ''}
                </td>`;
                
                // 입고 수량
                if (row.receipt) {
                    row.receipt.forEach(val => {
                        tr.innerHTML += `<td class="px-2 py-2 text-center bg-green-50 font-semibold text-green-800 print:px-1 print:py-1">${val}</td>`;
                    });
                } else {
                    for (let i = 0; i < 4; i++) {
                        tr.innerHTML += `<td class="px-2 py-2 text-center text-gray-400 print:px-1 print:py-1">-</td>`;
                    }
                }
                
                // 생산 계획
                tr.innerHTML += `<td class="px-6 py-4 text-center bg-purple-50 border border-purple-200 w-32 min-h-12 print:w-24 print:px-3 print:py-2 print:min-h-8"></td>`;

                tbody.appendChild(tr);
            });
        }

        // 페이지 로드 시 테이블 렌더링
        renderTable();
    </script>
</body>
</html>